[2022-06-02T11:24:49.228] [DEBUG] default - SST: 1.2.10
[2022-06-02T11:24:49.231] [DEBUG] default - CDK: 2.24.0
[2022-06-02T11:24:49.234] [DEBUG] aws-auth - Determining if we're on an EC2 instance.
[2022-06-02T11:24:49.311] [DEBUG] aws-auth - Does not look like an EC2 instance.
[2022-06-02T11:24:49.358] [INFO] default - Using stage: BryanL
[2022-06-02T11:24:49.360] [INFO] default - [90mPreparing your SST app[39m
[2022-06-02T11:24:49.453] [INFO] default - 
[2022-06-02T11:24:49.454] [INFO] default - =======================
[2022-06-02T11:24:49.454] [INFO] default -  Deploying debug stack
[2022-06-02T11:24:49.455] [INFO] default - =======================
[2022-06-02T11:24:49.455] [INFO] default - 
[2022-06-02T11:24:49.456] [DEBUG] default - synth {
  app: 'node bin/index.mjs notes BryanL us-east-1 "C:\\Users\\bryan.lewis\\Documents\\Test Projects\\notes"',
  output: 'cdk.out',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-06-02T11:24:53.565] [TRACE] cdk - 

[2022-06-02T11:24:53.829] [INFO] default - [90mDeploying stacks[39m
[2022-06-02T11:24:53.831] [DEBUG] default - checkInReviewBootstrapStacks
[2022-06-02T11:24:53.831] [DEBUG] default - checkInReviewBootstrapStackInRegion us-east-1
[2022-06-02T11:24:54.262] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-debug-stack","name":"BryanL-notes-debug-stack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-06-02T11:24:54.263] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-debug-stack","name":"BryanL-notes-debug-stack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-06-02T11:24:54.264] [DEBUG] default - deploy stack: started BryanL-notes-debug-stack
[2022-06-02T11:24:54.264] [DEBUG] default - deploy stack: get pre-deploy status
[2022-06-02T11:24:54.575] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'CREATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T15:19:38.188Z
}
[2022-06-02T11:24:54.585] [DEBUG] default - deploy stack: addInUseExports
[2022-06-02T11:24:54.587] [DEBUG] default - deploy stack: isTemplateChanged
[2022-06-02T11:24:55.050] [DEBUG] default - Resources:
  TableCD117FA1:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Table/Resource
  Bucket83908E77:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 1
            Prefix: payloads/
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: 'true'
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Bucket/Resource
  BucketPolicyE9A3008A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: Bucket83908E77
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - Bucket83908E77
                  - Arn
              - Fn::Join:
                  - ''
                  - - Fn::GetAtt:
                        - Bucket83908E77
                        - Arn
                    - /*
        Version: '2012-10-17'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Bucket/Policy/Resource
  BucketAutoDeleteObjectsCustomResourceBAFD23C2:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: Bucket83908E77
    DependsOn:
      - BucketPolicyE9A3008A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Bucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: >-
            arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs12.x
      Description:
        Fn::Join:
          - ''
          - - 'Lambda function for auto-deleting objects in '
            - Ref: Bucket83908E77
            - ' S3 bucket.'
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be
      aws:asset:property: Code
  Api:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      Name: BryanL-notes-debug-stack-api
      ProtocolType: WEBSOCKET
      RouteSelectionExpression: $request.body.action
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Api
  ApiStage:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: Api
      StageName: BryanL
      AutoDeploy: true
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/ApiStage
  ConnectServiceRole07B61CE8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/ServiceRole/Resource
  ConnectServiceRoleDefaultPolicyCE008EDB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ConnectServiceRoleDefaultPolicyCE008EDB
      Roles:
        - Ref: ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/ServiceRole/DefaultPolicy/Resource
  Connect5B7625CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ConnectServiceRole07B61CE8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsConnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ConnectServiceRoleDefaultPolicyCE008EDB
      - ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectLogRetentionC1F463CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Connect5B7625CA
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/LogRetention/Resource
  ConnectConnectPermission9DBC7813:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Connect5B7625CA
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/ConnectPermission
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutRetentionPolicy
              - logs:DeleteRetentionPolicy
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs14.x
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
    DependsOn:
      - >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Connect5B7625CA
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/ConnectIntegration
  ConnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $connect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ConnectIntegration
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/ConnectRoute
  DisconnectServiceRole90AEC2EB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/ServiceRole/Resource
  DisconnectServiceRoleDefaultPolicy32856207:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: DisconnectServiceRoleDefaultPolicy32856207
      Roles:
        - Ref: DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/ServiceRole/DefaultPolicy/Resource
  Disconnect7D6B12BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - DisconnectServiceRole90AEC2EB
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDisconnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - DisconnectServiceRoleDefaultPolicy32856207
      - DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DisconnectLogRetentionE61D7937:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Disconnect7D6B12BD
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/LogRetention/Resource
  DisconnectDisconnectPermission933E876E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Disconnect7D6B12BD
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/DisconnectPermission
  DisconnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Disconnect7D6B12BD
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DisconnectIntegration
  DisconnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $disconnect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DisconnectIntegration
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DisconnectRoute
  ServiceRole4288B192:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/ServiceRole/Resource
  ServiceRoleDefaultPolicy94CF55F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ServiceRoleDefaultPolicy94CF55F6
      Roles:
        - Ref: ServiceRole4288B192
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/ServiceRole/DefaultPolicy/Resource
  Resource:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ServiceRole4288B192
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDefault.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ServiceRoleDefaultPolicy94CF55F6
      - ServiceRole4288B192
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LogRetentionDD0A1FA1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Resource
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/LogRetention/Resource
  DefaultPermission:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Resource
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/DefaultPermission
  DefaultIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Resource
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DefaultIntegration
  DefaultRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $default
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DefaultIntegration
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DefaultRoute
Outputs:
  Endpoint:
    Value:
      Fn::Join:
        - ''
        - - Fn::GetAtt:
              - Api
              - ApiEndpoint
          - /BryanL
  BucketArn:
    Value:
      Fn::GetAtt:
        - Bucket83908E77
        - Arn
  BucketName:
    Value:
      Ref: Bucket83908E77
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:24:55.050] [DEBUG] default - Resources:
  TableCD117FA1:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Table/Resource
  Bucket83908E77:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 1
            Prefix: payloads/
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: 'true'
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Bucket/Resource
  BucketPolicyE9A3008A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: Bucket83908E77
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - Bucket83908E77
                  - Arn
              - Fn::Join:
                  - ''
                  - - Fn::GetAtt:
                        - Bucket83908E77
                        - Arn
                    - /*
        Version: '2012-10-17'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Bucket/Policy/Resource
  BucketAutoDeleteObjectsCustomResourceBAFD23C2:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: Bucket83908E77
    DependsOn:
      - BucketPolicyE9A3008A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Bucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: >-
            arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs12.x
      Description:
        Fn::Join:
          - ''
          - - 'Lambda function for auto-deleting objects in '
            - Ref: Bucket83908E77
            - ' S3 bucket.'
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be
      aws:asset:property: Code
  Api:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      Name: BryanL-notes-debug-stack-api
      ProtocolType: WEBSOCKET
      RouteSelectionExpression: $request.body.action
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Api
  ApiStage:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: Api
      StageName: BryanL
      AutoDeploy: true
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/ApiStage
  ConnectServiceRole07B61CE8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/ServiceRole/Resource
  ConnectServiceRoleDefaultPolicyCE008EDB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ConnectServiceRoleDefaultPolicyCE008EDB
      Roles:
        - Ref: ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/ServiceRole/DefaultPolicy/Resource
  Connect5B7625CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ConnectServiceRole07B61CE8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsConnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ConnectServiceRoleDefaultPolicyCE008EDB
      - ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectLogRetentionC1F463CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Connect5B7625CA
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/LogRetention/Resource
  ConnectConnectPermission9DBC7813:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Connect5B7625CA
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Connect/ConnectPermission
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutRetentionPolicy
              - logs:DeleteRetentionPolicy
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs14.x
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
    DependsOn:
      - >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Connect5B7625CA
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/ConnectIntegration
  ConnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $connect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ConnectIntegration
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/ConnectRoute
  DisconnectServiceRole90AEC2EB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/ServiceRole/Resource
  DisconnectServiceRoleDefaultPolicy32856207:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: DisconnectServiceRoleDefaultPolicy32856207
      Roles:
        - Ref: DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/ServiceRole/DefaultPolicy/Resource
  Disconnect7D6B12BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - DisconnectServiceRole90AEC2EB
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDisconnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - DisconnectServiceRoleDefaultPolicy32856207
      - DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DisconnectLogRetentionE61D7937:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Disconnect7D6B12BD
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/LogRetention/Resource
  DisconnectDisconnectPermission933E876E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Disconnect7D6B12BD
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Disconnect/DisconnectPermission
  DisconnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Disconnect7D6B12BD
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DisconnectIntegration
  DisconnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $disconnect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DisconnectIntegration
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DisconnectRoute
  ServiceRole4288B192:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/ServiceRole/Resource
  ServiceRoleDefaultPolicy94CF55F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ServiceRoleDefaultPolicy94CF55F6
      Roles:
        - Ref: ServiceRole4288B192
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/ServiceRole/DefaultPolicy/Resource
  Resource:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ServiceRole4288B192
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDefault.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ServiceRoleDefaultPolicy94CF55F6
      - ServiceRole4288B192
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LogRetentionDD0A1FA1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Resource
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/LogRetention/Resource
  DefaultPermission:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Resource
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/Default/DefaultPermission
  DefaultIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Resource
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DefaultIntegration
  DefaultRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $default
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DefaultIntegration
    Metadata:
      aws:cdk:path: BryanL-notes-debug-stack/DefaultRoute
Outputs:
  Endpoint:
    Value:
      Fn::Join:
        - ''
        - - Fn::GetAtt:
              - Api
              - ApiEndpoint
          - /BryanL
  BucketArn:
    Value:
      Fn::GetAtt:
        - Bucket83908E77
        - Arn
  BucketName:
    Value:
      Ref: Bucket83908E77
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:24:55.051] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-06-02T11:24:55.051] [DEBUG] default - deploy stack: done BryanL-notes-debug-stack {
  status: 'unchanged',
  statusReason: undefined,
  account: '499049105488',
  outputs: {
    BucketArn: 'arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs',
    BucketName: 'bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs',
    Endpoint: 'wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL'
  },
  exports: {}
}
[2022-06-02T11:24:55.051] [INFO] default - [32m[39m
[32m ✅  BryanL-notes-debug-stack (no changes)[39m
[32m[39m
[2022-06-02T11:24:55.052] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-06-02T11:24:55.053] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-debug-stack","name":"BryanL-notes-debug-stack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190695051,"endedAt":1654190695051,"events":[],"outputs":{"BucketArn":"arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs","BucketName":"bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs","Endpoint":"wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL"},"exports":{}}]
[2022-06-02T11:24:55.054] [INFO] default - 
Stack BryanL-notes-debug-stack
[2022-06-02T11:24:55.054] [INFO] default -   Status: no changes
[2022-06-02T11:24:55.055] [INFO] default -   Outputs:
[2022-06-02T11:24:55.056] [INFO] default -     BucketArn: arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
[2022-06-02T11:24:55.056] [INFO] default -     BucketName: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
[2022-06-02T11:24:55.057] [INFO] default -     Endpoint: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
[2022-06-02T11:24:55.057] [INFO] default - 
[2022-06-02T11:24:55.057] [DEBUG] default - deployRet [
  {
    id: 'BryanL-notes-debug-stack',
    name: 'BryanL-notes-debug-stack',
    region: 'us-east-1',
    status: 'unchanged',
    errorMessage: undefined,
    outputs: {
      BucketArn: 'arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs',
      BucketName: 'bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs',
      Endpoint: 'wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL'
    },
    exports: {}
  }
]
[2022-06-02T11:24:55.058] [INFO] default - 
[2022-06-02T11:24:55.059] [INFO] default - ===============
[2022-06-02T11:24:55.059] [INFO] default -  Deploying app
[2022-06-02T11:24:55.059] [INFO] default - ===============
[2022-06-02T11:24:55.060] [INFO] default - 
[2022-06-02T11:24:55.061] [DEBUG] default - synth {
  app: 'node .build/run.mjs',
  output: '.build/cdk.out',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-06-02T11:24:59.115] [TRACE] cdk - [32mSuccessfully synthesized to [34mC:\Users\bryan.lewis\Documents\Test Projects\notes\.build\cdk.out[39m[32m[39m

[2022-06-02T11:24:59.115] [TRACE] cdk - Supply a stack id ([32mBryanL-notes-StorageStack[39m, [32mBryanL-notes-ApiStack[39m, [32mBryanL-notes-AuthStack[39m) to display its template.

[2022-06-02T11:24:59.121] [TRACE] cdk - 

[2022-06-02T11:25:05.040] [INFO] default - [90mDeploying stacks[39m
[2022-06-02T11:25:05.042] [DEBUG] default - checkInReviewBootstrapStacks
[2022-06-02T11:25:05.043] [DEBUG] default - checkInReviewBootstrapStackInRegion us-east-1
[2022-06-02T11:25:05.400] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"pending","dependencies":["BryanL-notes-StorageStack"],"region":"us-east-1","events":[]},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:05.400] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"pending","dependencies":["BryanL-notes-StorageStack"],"region":"us-east-1","events":[]},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:05.401] [DEBUG] default - deploy stack: started BryanL-notes-StorageStack
[2022-06-02T11:25:05.401] [DEBUG] default - deploy stack: get pre-deploy status
[2022-06-02T11:25:05.764] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T20:35:53.242Z
}
[2022-06-02T11:25:05.765] [DEBUG] default - deploy stack: addInUseExports
[2022-06-02T11:25:05.766] [DEBUG] default - deploy stack: isTemplateChanged
[2022-06-02T11:25:06.048] [DEBUG] default - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: BryanL-notes-StorageStack/SSTMetadata
      sst:version: 1.2.10
      sst:constructs:
        - id: Uploads
          addr: c8f741048fd258bfd7b30c55ef3c47f3df8c7a5c64
          stack: BryanL-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c81ea39cfd5672e70f96f3178d4ec6254cf6dea5a8
          stack: BryanL-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: BryanL-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
  ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45:
    Value:
      Fn::GetAtt:
        - UploadsBucketC4B27CC7
        - Arn
    Export:
      Name: >-
        BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:25:06.048] [DEBUG] default - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: BryanL-notes-StorageStack/SSTMetadata
      sst:version: 1.2.10
      sst:constructs:
        - id: Uploads
          addr: c8f741048fd258bfd7b30c55ef3c47f3df8c7a5c64
          stack: BryanL-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c81ea39cfd5672e70f96f3178d4ec6254cf6dea5a8
          stack: BryanL-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: BryanL-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
  ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45:
    Value:
      Fn::GetAtt:
        - UploadsBucketC4B27CC7
        - Arn
    Export:
      Name: >-
        BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:25:06.048] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-06-02T11:25:06.049] [DEBUG] default - deploy stack: done BryanL-notes-StorageStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '499049105488',
  outputs: {
    ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38: 'arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes',
    ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45: 'arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph',
    ExportsOutputRefNotesTable7100B0E8C879CB95: 'BryanL-notes-Notes'
  },
  exports: {
    'BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38': 'arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes',
    'BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45': 'arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph',
    'BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95': 'BryanL-notes-Notes'
  }
}
[2022-06-02T11:25:06.049] [INFO] default - [32m[39m
[32m ✅  BryanL-notes-StorageStack (no changes)[39m
[32m[39m
[2022-06-02T11:25:06.050] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-06-02T11:25:06.050] [DEBUG] default - deploy stack: started BryanL-notes-ApiStack
[2022-06-02T11:25:06.051] [DEBUG] default - deploy stack: get pre-deploy status
[2022-06-02T11:25:06.351] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:06.351] [DEBUG] default - deploy stack: addInUseExports
[2022-06-02T11:25:06.353] [DEBUG] default - deploy stack: isTemplateChanged
[2022-06-02T11:25:06.917] [DEBUG] default - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/SSTMetadata
      sst:version: 1.2.10
      sst:constructs:
        - id: Api
          addr: c8d2957236ae4241cd56e4b868576f4138a6cfd182
          stack: BryanL-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - type: function
                route: GET /notes
                fn:
                  node: c8eec9519dbdfdb8f8e97b817f66aa2bb3ecab5c2c
                  stack: BryanL-notes-ApiStack
              - type: function
                route: POST /notes
                fn:
                  node: c86150850c00b9218255df85479cb474fb817dc070
                  stack: BryanL-notes-ApiStack
              - type: function
                route: GET /notes/{id}
                fn:
                  node: c80f968a11a6f44a02a7d0a22a3b19b232546c7988
                  stack: BryanL-notes-ApiStack
              - type: function
                route: PUT /notes/{id}
                fn:
                  node: c8365533c662880496425040eb5730c23ded241f6f
                  stack: BryanL-notes-ApiStack
              - type: function
                route: DELETE /notes/{id}
                fn:
                  node: c8b6010eb17cf6b740c404e942a1a9ae7173dd1230
                  stack: BryanL-notes-ApiStack
        - id: Lambda_GET_--notes
          addr: c8eec9519dbdfdb8f8e97b817f66aa2bb3ecab5c2c
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
        - id: Lambda_POST_--notes
          addr: c86150850c00b9218255df85479cb474fb817dc070
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
        - id: Lambda_GET_--notes--{id}
          addr: c80f968a11a6f44a02a7d0a22a3b19b232546c7988
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
        - id: Lambda_PUT_--notes--{id}
          addr: c8365533c662880496425040eb5730c23ded241f6f
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
        - id: Lambda_DELETE_--notes--{id}
          addr: c8b6010eb17cf6b740c404e942a1a9ae7173dd1230
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaDELETEnotesid69A96EAD
                - Arn
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: BryanL-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/BryanL-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
  ApiLambdaDELETEnotesidServiceRole196EBA58:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/Resource
  ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      Roles:
        - Ref: ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaDELETEnotesid69A96EAD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesidServiceRole196EBA58
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/delete.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      - ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaDELETEnotesid69A96EAD
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}-Permission
  ApiRouteDELETEnotesidCFA3191E:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: DELETE /notes/{id}
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
  ExportsOutputRefApiCD79AAA0A1504A18:
    Value:
      Ref: ApiCD79AAA0
    Export:
      Name: BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:25:06.918] [DEBUG] default - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/SSTMetadata
      sst:version: 1.2.10
      sst:constructs:
        - id: Api
          addr: c8d2957236ae4241cd56e4b868576f4138a6cfd182
          stack: BryanL-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - type: function
                route: GET /notes
                fn:
                  node: c8eec9519dbdfdb8f8e97b817f66aa2bb3ecab5c2c
                  stack: BryanL-notes-ApiStack
              - type: function
                route: POST /notes
                fn:
                  node: c86150850c00b9218255df85479cb474fb817dc070
                  stack: BryanL-notes-ApiStack
              - type: function
                route: GET /notes/{id}
                fn:
                  node: c80f968a11a6f44a02a7d0a22a3b19b232546c7988
                  stack: BryanL-notes-ApiStack
              - type: function
                route: PUT /notes/{id}
                fn:
                  node: c8365533c662880496425040eb5730c23ded241f6f
                  stack: BryanL-notes-ApiStack
              - type: function
                route: DELETE /notes/{id}
                fn:
                  node: c8b6010eb17cf6b740c404e942a1a9ae7173dd1230
                  stack: BryanL-notes-ApiStack
              - type: function
                route: POST /billing
                fn:
                  node: c85d213ff1538df866ed705eeb42ad6c095906a67e
                  stack: BryanL-notes-ApiStack
        - id: Lambda_GET_--notes
          addr: c8eec9519dbdfdb8f8e97b817f66aa2bb3ecab5c2c
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
        - id: Lambda_POST_--notes
          addr: c86150850c00b9218255df85479cb474fb817dc070
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
        - id: Lambda_GET_--notes--{id}
          addr: c80f968a11a6f44a02a7d0a22a3b19b232546c7988
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
        - id: Lambda_PUT_--notes--{id}
          addr: c8365533c662880496425040eb5730c23ded241f6f
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
        - id: Lambda_DELETE_--notes--{id}
          addr: c8b6010eb17cf6b740c404e942a1a9ae7173dd1230
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaDELETEnotesid69A96EAD
                - Arn
        - id: Lambda_POST_--billing
          addr: c85d213ff1538df866ed705eeb42ad6c095906a67e
          stack: BryanL-notes-ApiStack
          type: Function
          data:
            localId: BryanL-notes-ApiStack-Api-Lambda_POST_-billing
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTbilling71E49732
                - Arn
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: BryanL-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/BryanL-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
  ApiLambdaDELETEnotesidServiceRole196EBA58:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/Resource
  ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      Roles:
        - Ref: ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaDELETEnotesid69A96EAD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesidServiceRole196EBA58
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/delete.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      - ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaDELETEnotesid69A96EAD
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}-Permission
  ApiRouteDELETEnotesidCFA3191E:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: DELETE /notes/{id}
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Resource
  ApiLambdaPOSTbillingServiceRoleB5827DFF:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--billing/ServiceRole/Resource
  ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
              - >-
                arn:aws:s3:::bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694
      Roles:
        - Ref: ApiLambdaPOSTbillingServiceRoleB5827DFF
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_POST_--billing/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTbilling71E49732:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-499049105488-us-east-1
        S3Key: a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTbillingServiceRoleB5827DFF
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          STRIPE_SECRET_KEY: >-
            sk_test_51L4AlQCN6NT5BQ0aCmNfswgvm33szgd3cfeWdpOCnCjPFQzAseXMvUwsu4GGnD4oqrQQT0AnBXQe24I4OEG6aLhf003OTyDFoG
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/billing.main
          SST_DEBUG_ENDPOINT: wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL
          SST_DEBUG_BUCKET_NAME: bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
          SST_FUNCTION_ID: BryanL-notes-ApiStack-Api-Lambda_POST_-billing
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694
      - ApiLambdaPOSTbillingServiceRoleB5827DFF
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Lambda_POST_--billing/Resource
      aws:asset:path: >-
        asset.a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTbilling71E49732
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Lambda_POST_--billing/EventInvokeConfig/Resource
  ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTbilling71E49732
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_POST_--billing/Integration_POST_--billing/Resource
  ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTbilling71E49732
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:499049105488:'
            - Ref: ApiCD79AAA0
            - /*/*/billing
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-ApiStack/Api/Route_POST_--billing/Integration_POST_--billing-Permission
  ApiRoutePOSTbilling09AED9DA:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /billing
      AuthorizationType: AWS_IAM
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B
    Metadata:
      aws:cdk:path: BryanL-notes-ApiStack/Api/Route_POST_--billing/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
  ExportsOutputRefApiCD79AAA0A1504A18:
    Value:
      Ref: ApiCD79AAA0
    Export:
      Name: BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:25:06.918] [DEBUG] default - deploy stack: run cdk deploy
[2022-06-02T11:25:06.927] [DEBUG] default - deploy stack: poll stack status
[2022-06-02T11:25:07.231] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:07.232] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:08.102] [TRACE] default - deploy stack: run cdk deploy: stderr: 
✨  Synthesis time: 0.03s


[2022-06-02T11:25:08.103] [TRACE] default - deploy stack: run cdk deploy: stderr: [1mBryanL-notes-ApiStack[22m: deploying...

[2022-06-02T11:25:09.222] [TRACE] default - deploy stack: run cdk deploy: stderr: [0%] start: Publishing a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33:499049105488-us-east-1

[2022-06-02T11:25:09.223] [TRACE] default - deploy stack: run cdk deploy: stderr: [0%] start: Publishing c17658e76c435a0df3e8fb5f5d3aeee049c75bdbe5c1b7ec680b6efea076d391:499049105488-us-east-1

[2022-06-02T11:25:10.215] [TRACE] default - deploy stack: run cdk deploy: stderr: [50%] success: Published a9565a424c73ec5adc8374c8aca92e3582b9caa2019c3c1578306b21ac524b33:499049105488-us-east-1

[2022-06-02T11:25:10.528] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:10.529] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:10.974] [TRACE] default - deploy stack: run cdk deploy: stderr: [100%] success: Published c17658e76c435a0df3e8fb5f5d3aeee049c75bdbe5c1b7ec680b6efea076d391:499049105488-us-east-1

[2022-06-02T11:25:12.134] [TRACE] default - deploy stack: run cdk deploy: stderr: [1mBryanL-notes-ApiStack[22m: creating CloudFormation changeset...

[2022-06-02T11:25:13.829] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:13.829] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:17.137] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:17.137] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:20.426] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:20.427] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:23.731] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:23.732] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:27.018] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:27.019] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:30.330] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:30.331] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:33.633] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:33.634] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:36.923] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:36.923] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:40.236] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T21:49:45.294Z
}
[2022-06-02T11:25:40.237] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-06-02T11:25:43.522] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_IN_PROGRESS',
  LastUpdatedTime: 2022-06-02T17:25:39.901Z
}
[2022-06-02T11:25:43.522] [DEBUG] default - deploy stack: poll stack status: cf update started
[2022-06-02T11:25:43.523] [DEBUG] default - deploy stack: done BryanL-notes-ApiStack {
  status: 'deploying',
  statusReason: undefined,
  account: '499049105488',
  outputs: {
    ApiEndpoint: 'https://r99h3e1i8f.execute-api.us-east-1.amazonaws.com',
    ExportsOutputRefApiCD79AAA0A1504A18: 'r99h3e1i8f'
  },
  exports: {
    'BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18': 'r99h3e1i8f'
  }
}
[2022-06-02T11:25:43.523] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[],"outputs":{"ApiEndpoint":"https://r99h3e1i8f.execute-api.us-east-1.amazonaws.com","ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"},"exports":{"BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"}},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:43.523] [INFO] default - Checking deploy status...
[2022-06-02T11:25:43.542] [DEBUG] default - deploy stack: run cdk deploy: exited with code null
[2022-06-02T11:25:48.536] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[],"outputs":{"ApiEndpoint":"https://r99h3e1i8f.execute-api.us-east-1.amazonaws.com","ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"},"exports":{"BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"}},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:48.537] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:25:49.067] [INFO] default - BryanL-notes-ApiStack | [0mUPDATE_IN_PROGRESS[0m | AWS::CloudFormation::Stack | [0m[1mBryanL-notes-ApiStack[22m[0m | [0mUser Initiated[0m
[2022-06-02T11:25:49.067] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:25:49.347] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:49.348] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:54.360] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:54.361] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:25:54.834] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Role | [0m[1mApiLambdaPOSTbillingServiceRoleB5827DFF[22m[0m
[2022-06-02T11:25:54.835] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Role | [0m[1mApiLambdaPOSTbillingServiceRoleB5827DFF[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:25:54.836] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:25:55.129] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:25:55.129] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:00.137] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:00.138] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:00.679] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:00.962] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:00.963] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:00.963] [INFO] default - Checking deploy status...
[2022-06-02T11:26:05.974] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:05.974] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:06.416] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::IAM::Role | [32m[1mApiLambdaPOSTbillingServiceRoleB5827DFF[22m[39m
[2022-06-02T11:26:06.417] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:06.708] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:06.709] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:11.718] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:11.719] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:12.220] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Policy | [0m[1mApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694[22m[0m
[2022-06-02T11:26:12.221] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Policy | [0m[1mApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:26:12.222] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:12.502] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:12.502] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:17.511] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:17.512] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:18.006] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:18.300] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:18.300] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:18.300] [INFO] default - Checking deploy status...
[2022-06-02T11:26:23.316] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:23.317] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:24.069] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::IAM::Policy | [32m[1mApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694[22m[39m
[2022-06-02T11:26:24.071] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:24.347] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:24.348] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:29.360] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:29.360] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:30.261] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Function | [0m[1mApiLambdaPOSTbilling71E49732[22m[0m
[2022-06-02T11:26:30.262] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Function | [0m[1mApiLambdaPOSTbilling71E49732[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:26:30.262] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:30.550] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:30.550] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:35.560] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:35.561] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:36.366] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:36.664] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:36.664] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:36.664] [INFO] default - Checking deploy status...
[2022-06-02T11:26:41.670] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:41.671] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:42.489] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::Function | [32m[1mApiLambdaPOSTbilling71E49732[22m[39m
[2022-06-02T11:26:42.490] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::EventInvokeConfig | [0m[1mApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D[22m[0m
[2022-06-02T11:26:42.491] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Integration | [0m[1mApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B[22m[0m
[2022-06-02T11:26:42.491] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Permission | [0m[1mApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C[22m[0m
[2022-06-02T11:26:42.491] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Permission | [0m[1mApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:26:42.492] [INFO] default - BryanL-notes-ApiStack | [32mUPDATE_COMPLETE[39m | AWS::CDK::Metadata | [32m[1mSSTMetadata[22m[39m
[2022-06-02T11:26:42.492] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::EventInvokeConfig | [0m[1mApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:26:42.493] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::EventInvokeConfig | [32m[1mApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D[22m[39m
[2022-06-02T11:26:42.493] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Integration | [0m[1mApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:26:42.493] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::ApiGatewayV2::Integration | [32m[1mApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B[22m[39m
[2022-06-02T11:26:42.494] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:42.783] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:42.784] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:47.788] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:47.789] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:48.634] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Route | [0m[1mApiRoutePOSTbilling09AED9DA[22m[0m
[2022-06-02T11:26:48.635] [INFO] default - BryanL-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Route | [0m[1mApiRoutePOSTbilling09AED9DA[22m[0m | [0mResource creation Initiated[0m
[2022-06-02T11:26:48.636] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::ApiGatewayV2::Route | [32m[1mApiRoutePOSTbilling09AED9DA[22m[39m
[2022-06-02T11:26:48.636] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:48.933] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:48.933] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:53.939] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:53.939] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:26:54.769] [INFO] default - BryanL-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::Permission | [32m[1mApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C[22m[39m
[2022-06-02T11:26:54.770] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:26:55.065] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_COMPLETE-2022-06-02T17:26:49.576Z","timestamp":"2022-06-02T17:26:49.576Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:26:55.067] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_COMPLETE-2022-06-02T17:26:49.576Z","timestamp":"2022-06-02T17:26:49.576Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:27:00.079] [TRACE] default - Initial stack states: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"deploying","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_COMPLETE-2022-06-02T17:26:49.576Z","timestamp":"2022-06-02T17:26:49.576Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z"},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:27:00.080] [DEBUG] default - Fetching stack events BryanL-notes-ApiStack
[2022-06-02T11:27:00.899] [INFO] default - BryanL-notes-ApiStack | [32mUPDATE_COMPLETE_CLEANUP_IN_PROGRESS[39m | AWS::CloudFormation::Stack | [32m[1mBryanL-notes-ApiStack[22m[39m
[2022-06-02T11:27:00.900] [INFO] default - BryanL-notes-ApiStack | [32mUPDATE_COMPLETE[39m | AWS::CloudFormation::Stack | [32m[1mBryanL-notes-ApiStack[22m[39m
[2022-06-02T11:27:00.900] [DEBUG] default - Checking stack status BryanL-notes-ApiStack
[2022-06-02T11:27:01.220] [INFO] default - [32m[39m
[32m ✅  BryanL-notes-ApiStack[39m
[32m[39m
[2022-06-02T11:27:01.221] [TRACE] default - After update deploy statuses: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"succeeded","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"endedAt":1654190821220,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_COMPLETE-2022-06-02T17:26:49.576Z","timestamp":"2022-06-02T17:26:49.576Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"31fa3e80-e299-11ec-a517-0eacdaf8ae7d","timestamp":"2022-06-02T17:26:53.796Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"3298ef80-e299-11ec-a322-0e9e1e3d6c73","timestamp":"2022-06-02T17:26:54.833Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"BryanL-notes-ApiStack"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z","outputs":{"ApiEndpoint":"https://r99h3e1i8f.execute-api.us-east-1.amazonaws.com","ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"},"exports":{"BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"}},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"pending","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-06-02T11:27:01.222] [DEBUG] default - deploy stack: started BryanL-notes-AuthStack
[2022-06-02T11:27:01.222] [DEBUG] default - deploy stack: get pre-deploy status
[2022-06-02T11:27:01.553] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'CREATE_COMPLETE',
  LastUpdatedTime: 2022-05-27T20:37:08.960Z
}
[2022-06-02T11:27:01.554] [DEBUG] default - deploy stack: addInUseExports
[2022-06-02T11:27:01.555] [DEBUG] default - deploy stack: isTemplateChanged
[2022-06-02T11:27:01.910] [DEBUG] default - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/SSTMetadata
      sst:version: 1.2.10
      sst:constructs:
        - id: Auth
          addr: c8a6f4063116f21c4438c5f31ea235344c930a3058
          stack: BryanL-notes-AuthStack
          type: Auth
          data:
            identityPoolId:
              Ref: AuthIdentityPool12DFB5E1
            userPoolId:
              Ref: AuthUserPool8115E87F
            triggers: []
  AuthUserPool8115E87F:
    Type: AWS::Cognito::UserPool
    Properties:
      AccountRecoverySetting:
        RecoveryMechanisms:
          - Name: verified_phone_number
            Priority: 1
          - Name: verified_email
            Priority: 2
      AdminCreateUserConfig:
        AllowAdminCreateUserOnly: false
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage: The verification code to your new account is {####}
      EmailVerificationSubject: Verify your new account
      SmsVerificationMessage: The verification code to your new account is {####}
      UsernameAttributes:
        - email
      UsernameConfiguration:
        CaseSensitive: false
      UserPoolName: BryanL-notes-Auth
      UserPoolTags:
        sst:app: notes
        sst:stage: BryanL
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_CODE
        EmailMessage: The verification code to your new account is {####}
        EmailSubject: Verify your new account
        SmsMessage: The verification code to your new account is {####}
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/UserPool/Resource
  AuthUserPoolClient0AA456E4:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      UserPoolId:
        Ref: AuthUserPool8115E87F
      AllowedOAuthFlows:
        - implicit
        - code
      AllowedOAuthFlowsUserPoolClient: true
      AllowedOAuthScopes:
        - profile
        - phone
        - email
        - openid
        - aws.cognito.signin.user.admin
      CallbackURLs:
        - https://example.com
      SupportedIdentityProviders:
        - COGNITO
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/UserPoolClient/Resource
  AuthIdentityPool12DFB5E1:
    Type: AWS::Cognito::IdentityPool
    Properties:
      AllowUnauthenticatedIdentities: true
      CognitoIdentityProviders:
        - ClientId:
            Ref: AuthUserPoolClient0AA456E4
          ProviderName:
            Fn::Join:
              - ''
              - - cognito-idp.us-east-1.
                - Ref: AWS::URLSuffix
                - /
                - Ref: AuthUserPool8115E87F
      IdentityPoolName: BryanL-notes-Auth
      OpenIdConnectProviderARNs: []
      SupportedLoginProviders: {}
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPool
  AuthIdentityPoolAuthRoleD14DA003:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                cognito-identity.amazonaws.com:aud:
                  Ref: AuthIdentityPool12DFB5E1
              ForAnyValue:StringLike:
                cognito-identity.amazonaws.com:amr: authenticated
            Effect: Allow
            Principal:
              Federated: cognito-identity.amazonaws.com
        Version: '2012-10-17'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolAuthRole/Resource
  AuthIdentityPoolAuthRoleDefaultPolicy32D17CAC:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - mobileanalytics:PutEvents
              - cognito-sync:*
              - cognito-identity:*
            Effect: Allow
            Resource: '*'
          - Action: execute-api:Invoke
            Effect: Allow
            Resource:
              Fn::Join:
                - ''
                - - 'arn:aws:execute-api:us-east-1:499049105488:'
                  - Fn::ImportValue: BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18
                  - /*
          - Action: s3:*
            Effect: Allow
            Resource:
              Fn::Join:
                - ''
                - - Fn::ImportValue: >-
                      BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45
                  - /private/${cognito-identity.amazonaws.com:sub}/*
        Version: '2012-10-17'
      PolicyName: AuthIdentityPoolAuthRoleDefaultPolicy32D17CAC
      Roles:
        - Ref: AuthIdentityPoolAuthRoleD14DA003
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolAuthRole/DefaultPolicy/Resource
  AuthIdentityPoolUnauthRoleA8DE48F3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                cognito-identity.amazonaws.com:aud:
                  Ref: AuthIdentityPool12DFB5E1
              ForAnyValue:StringLike:
                cognito-identity.amazonaws.com:amr: unauthenticated
            Effect: Allow
            Principal:
              Federated: cognito-identity.amazonaws.com
        Version: '2012-10-17'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolUnauthRole/Resource
  AuthIdentityPoolUnauthRoleDefaultPolicy0417F857:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - mobileanalytics:PutEvents
              - cognito-sync:*
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: AuthIdentityPoolUnauthRoleDefaultPolicy0417F857
      Roles:
        - Ref: AuthIdentityPoolUnauthRoleA8DE48F3
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-AuthStack/Auth/IdentityPoolUnauthRole/DefaultPolicy/Resource
  AuthIdentityPoolRoleAttachmentB0D3DC72:
    Type: AWS::Cognito::IdentityPoolRoleAttachment
    Properties:
      IdentityPoolId:
        Ref: AuthIdentityPool12DFB5E1
      Roles:
        authenticated:
          Fn::GetAtt:
            - AuthIdentityPoolAuthRoleD14DA003
            - Arn
        unauthenticated:
          Fn::GetAtt:
            - AuthIdentityPoolUnauthRoleA8DE48F3
            - Arn
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolRoleAttachment
Outputs:
  Region:
    Value: us-east-1
  UserPoolId:
    Value:
      Ref: AuthUserPool8115E87F
  IdentityPoolId:
    Value:
      Ref: AuthIdentityPool12DFB5E1
  UserPoolClientId:
    Value:
      Ref: AuthUserPoolClient0AA456E4
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:27:01.911] [DEBUG] default - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/SSTMetadata
      sst:version: 1.2.10
      sst:constructs:
        - id: Auth
          addr: c8a6f4063116f21c4438c5f31ea235344c930a3058
          stack: BryanL-notes-AuthStack
          type: Auth
          data:
            identityPoolId:
              Ref: AuthIdentityPool12DFB5E1
            userPoolId:
              Ref: AuthUserPool8115E87F
            triggers: []
  AuthUserPool8115E87F:
    Type: AWS::Cognito::UserPool
    Properties:
      AccountRecoverySetting:
        RecoveryMechanisms:
          - Name: verified_phone_number
            Priority: 1
          - Name: verified_email
            Priority: 2
      AdminCreateUserConfig:
        AllowAdminCreateUserOnly: false
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage: The verification code to your new account is {####}
      EmailVerificationSubject: Verify your new account
      SmsVerificationMessage: The verification code to your new account is {####}
      UsernameAttributes:
        - email
      UsernameConfiguration:
        CaseSensitive: false
      UserPoolName: BryanL-notes-Auth
      UserPoolTags:
        sst:app: notes
        sst:stage: BryanL
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_CODE
        EmailMessage: The verification code to your new account is {####}
        EmailSubject: Verify your new account
        SmsMessage: The verification code to your new account is {####}
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/UserPool/Resource
  AuthUserPoolClient0AA456E4:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      UserPoolId:
        Ref: AuthUserPool8115E87F
      AllowedOAuthFlows:
        - implicit
        - code
      AllowedOAuthFlowsUserPoolClient: true
      AllowedOAuthScopes:
        - profile
        - phone
        - email
        - openid
        - aws.cognito.signin.user.admin
      CallbackURLs:
        - https://example.com
      SupportedIdentityProviders:
        - COGNITO
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/UserPoolClient/Resource
  AuthIdentityPool12DFB5E1:
    Type: AWS::Cognito::IdentityPool
    Properties:
      AllowUnauthenticatedIdentities: true
      CognitoIdentityProviders:
        - ClientId:
            Ref: AuthUserPoolClient0AA456E4
          ProviderName:
            Fn::Join:
              - ''
              - - cognito-idp.us-east-1.
                - Ref: AWS::URLSuffix
                - /
                - Ref: AuthUserPool8115E87F
      IdentityPoolName: BryanL-notes-Auth
      OpenIdConnectProviderARNs: []
      SupportedLoginProviders: {}
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPool
  AuthIdentityPoolAuthRoleD14DA003:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                cognito-identity.amazonaws.com:aud:
                  Ref: AuthIdentityPool12DFB5E1
              ForAnyValue:StringLike:
                cognito-identity.amazonaws.com:amr: authenticated
            Effect: Allow
            Principal:
              Federated: cognito-identity.amazonaws.com
        Version: '2012-10-17'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolAuthRole/Resource
  AuthIdentityPoolAuthRoleDefaultPolicy32D17CAC:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - mobileanalytics:PutEvents
              - cognito-sync:*
              - cognito-identity:*
            Effect: Allow
            Resource: '*'
          - Action: execute-api:Invoke
            Effect: Allow
            Resource:
              Fn::Join:
                - ''
                - - 'arn:aws:execute-api:us-east-1:499049105488:'
                  - Fn::ImportValue: BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18
                  - /*
          - Action: s3:*
            Effect: Allow
            Resource:
              Fn::Join:
                - ''
                - - Fn::ImportValue: >-
                      BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45
                  - /private/${cognito-identity.amazonaws.com:sub}/*
        Version: '2012-10-17'
      PolicyName: AuthIdentityPoolAuthRoleDefaultPolicy32D17CAC
      Roles:
        - Ref: AuthIdentityPoolAuthRoleD14DA003
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolAuthRole/DefaultPolicy/Resource
  AuthIdentityPoolUnauthRoleA8DE48F3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                cognito-identity.amazonaws.com:aud:
                  Ref: AuthIdentityPool12DFB5E1
              ForAnyValue:StringLike:
                cognito-identity.amazonaws.com:amr: unauthenticated
            Effect: Allow
            Principal:
              Federated: cognito-identity.amazonaws.com
        Version: '2012-10-17'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: BryanL
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolUnauthRole/Resource
  AuthIdentityPoolUnauthRoleDefaultPolicy0417F857:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - mobileanalytics:PutEvents
              - cognito-sync:*
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: AuthIdentityPoolUnauthRoleDefaultPolicy0417F857
      Roles:
        - Ref: AuthIdentityPoolUnauthRoleA8DE48F3
    Metadata:
      aws:cdk:path: >-
        BryanL-notes-AuthStack/Auth/IdentityPoolUnauthRole/DefaultPolicy/Resource
  AuthIdentityPoolRoleAttachmentB0D3DC72:
    Type: AWS::Cognito::IdentityPoolRoleAttachment
    Properties:
      IdentityPoolId:
        Ref: AuthIdentityPool12DFB5E1
      Roles:
        authenticated:
          Fn::GetAtt:
            - AuthIdentityPoolAuthRoleD14DA003
            - Arn
        unauthenticated:
          Fn::GetAtt:
            - AuthIdentityPoolUnauthRoleA8DE48F3
            - Arn
    Metadata:
      aws:cdk:path: BryanL-notes-AuthStack/Auth/IdentityPoolRoleAttachment
Outputs:
  Region:
    Value: us-east-1
  UserPoolId:
    Value:
      Ref: AuthUserPool8115E87F
  IdentityPoolId:
    Value:
      Ref: AuthIdentityPool12DFB5E1
  UserPoolClientId:
    Value:
      Ref: AuthUserPoolClient0AA456E4
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-06-02T11:27:01.911] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-06-02T11:27:01.911] [DEBUG] default - deploy stack: done BryanL-notes-AuthStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '499049105488',
  outputs: {
    UserPoolClientId: '1q5nt225bundp371hcr7oshqvc',
    UserPoolId: 'us-east-1_PmzsQbtpb',
    Region: 'us-east-1',
    IdentityPoolId: 'us-east-1:7fd7cccd-9f83-421f-b06d-3d503a312dbc'
  },
  exports: {}
}
[2022-06-02T11:27:01.912] [INFO] default - [32m[39m
[32m ✅  BryanL-notes-AuthStack (no changes)[39m
[32m[39m
[2022-06-02T11:27:01.913] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-06-02T11:27:01.913] [TRACE] default - After deploy stacks: [{"id":"BryanL-notes-StorageStack","name":"BryanL-notes-StorageStack","status":"unchanged","dependencies":[],"account":"499049105488","region":"us-east-1","startedAt":1654190706049,"endedAt":1654190706049,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"},"exports":{"BryanL-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:499049105488:table/BryanL-notes-Notes","BryanL-notes-StorageStack:ExportsOutputFnGetAttUploadsBucketC4B27CC7Arn515ECA45":"arn:aws:s3:::bryanl-notes-storagestack-uploadsbucketc4b27cc7-c8uvc7bm5tph","BryanL-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"BryanL-notes-Notes"}},{"id":"BryanL-notes-ApiStack","name":"BryanL-notes-ApiStack","status":"succeeded","dependencies":["BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190743523,"endedAt":1654190821220,"events":[{"eventId":"05f356f0-e299-11ec-8fc9-0a8688bce927","timestamp":"2022-06-02T17:25:39.901Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.333Z","timestamp":"2022-06-02T17:25:49.333Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_IN_PROGRESS-2022-06-02T17:25:49.739Z","timestamp":"2022-06-02T17:25:49.739Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleB5827DFF-CREATE_COMPLETE-2022-06-02T17:26:05.024Z","timestamp":"2022-06-02T17:26:05.024Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleB5827DFF"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:07.606Z","timestamp":"2022-06-02T17:26:07.606Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_IN_PROGRESS-2022-06-02T17:26:08.536Z","timestamp":"2022-06-02T17:26:08.536Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694-CREATE_COMPLETE-2022-06-02T17:26:22.746Z","timestamp":"2022-06-02T17:26:22.746Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingServiceRoleDefaultPolicy23915694"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:25.573Z","timestamp":"2022-06-02T17:26:25.573Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_IN_PROGRESS-2022-06-02T17:26:28.345Z","timestamp":"2022-06-02T17:26:28.345Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbilling71E49732-CREATE_COMPLETE-2022-06-02T17:26:35.299Z","timestamp":"2022-06-02T17:26:35.299Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbilling71E49732"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:37.908Z","timestamp":"2022-06-02T17:26:37.908Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:38.383Z","timestamp":"2022-06-02T17:26:38.383Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:38.505Z","timestamp":"2022-06-02T17:26:38.505Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_IN_PROGRESS-2022-06-02T17:26:39.025Z","timestamp":"2022-06-02T17:26:39.025Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-06-02T17:26:39.352Z","timestamp":"2022-06-02T17:26:39.352Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_IN_PROGRESS-2022-06-02T17:26:39.896Z","timestamp":"2022-06-02T17:26:39.896Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D-CREATE_COMPLETE-2022-06-02T17:26:40.017Z","timestamp":"2022-06-02T17:26:40.017Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaPOSTbillingEventInvokeConfigFF3A6E0D"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_IN_PROGRESS-2022-06-02T17:26:40.564Z","timestamp":"2022-06-02T17:26:40.564Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B-CREATE_COMPLETE-2022-06-02T17:26:40.760Z","timestamp":"2022-06-02T17:26:40.760Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingE351CA9B"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:43.563Z","timestamp":"2022-06-02T17:26:43.563Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_IN_PROGRESS-2022-06-02T17:26:45.339Z","timestamp":"2022-06-02T17:26:45.339Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbilling09AED9DA-CREATE_COMPLETE-2022-06-02T17:26:45.528Z","timestamp":"2022-06-02T17:26:45.528Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbilling09AED9DA"},{"eventId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C-CREATE_COMPLETE-2022-06-02T17:26:49.576Z","timestamp":"2022-06-02T17:26:49.576Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRoutePOSTbillingIntegrationPOSTbillingPermissionF7A0B32C"},{"eventId":"31fa3e80-e299-11ec-a517-0eacdaf8ae7d","timestamp":"2022-06-02T17:26:53.796Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS","logicalResourceId":"BryanL-notes-ApiStack"},{"eventId":"3298ef80-e299-11ec-a322-0e9e1e3d6c73","timestamp":"2022-06-02T17:26:54.833Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"BryanL-notes-ApiStack"}],"eventsFirstEventAt":"2022-06-02T17:25:34.901Z","outputs":{"ApiEndpoint":"https://r99h3e1i8f.execute-api.us-east-1.amazonaws.com","ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"},"exports":{"BryanL-notes-ApiStack:ExportsOutputRefApiCD79AAA0A1504A18":"r99h3e1i8f"}},{"id":"BryanL-notes-AuthStack","name":"BryanL-notes-AuthStack","status":"unchanged","dependencies":["BryanL-notes-ApiStack","BryanL-notes-StorageStack"],"account":"499049105488","region":"us-east-1","startedAt":1654190821912,"endedAt":1654190821912,"events":[],"outputs":{"UserPoolClientId":"1q5nt225bundp371hcr7oshqvc","UserPoolId":"us-east-1_PmzsQbtpb","Region":"us-east-1","IdentityPoolId":"us-east-1:7fd7cccd-9f83-421f-b06d-3d503a312dbc"},"exports":{}}]
[2022-06-02T11:27:01.914] [INFO] default - 
Stack BryanL-notes-StorageStack
[2022-06-02T11:27:01.915] [INFO] default -   Status: no changes
[2022-06-02T11:27:01.915] [INFO] default - 
Stack BryanL-notes-ApiStack
[2022-06-02T11:27:01.916] [INFO] default -   Status: deployed
[2022-06-02T11:27:01.916] [INFO] default -   Outputs:
[2022-06-02T11:27:01.917] [INFO] default -     ApiEndpoint: https://r99h3e1i8f.execute-api.us-east-1.amazonaws.com
[2022-06-02T11:27:01.917] [INFO] default - 
Stack BryanL-notes-AuthStack
[2022-06-02T11:27:01.917] [INFO] default -   Status: no changes
[2022-06-02T11:27:01.918] [INFO] default -   Outputs:
[2022-06-02T11:27:01.919] [INFO] default -     IdentityPoolId: us-east-1:7fd7cccd-9f83-421f-b06d-3d503a312dbc
[2022-06-02T11:27:01.919] [INFO] default -     Region: us-east-1
[2022-06-02T11:27:01.919] [INFO] default -     UserPoolClientId: 1q5nt225bundp371hcr7oshqvc
[2022-06-02T11:27:01.920] [INFO] default -     UserPoolId: us-east-1_PmzsQbtpb
[2022-06-02T11:27:01.920] [INFO] default - 
[2022-06-02T11:27:02.275] [INFO] default - 
[2022-06-02T11:27:02.276] [INFO] default - ==========================
[2022-06-02T11:27:02.277] [INFO] default -  Starting Live Lambda Dev
[2022-06-02T11:27:02.277] [INFO] default - ==========================
[2022-06-02T11:27:02.278] [INFO] default - 
[2022-06-02T11:27:02.302] [DEBUG] websocket - startWebSocketClient wss://b7vh9mh88i.execute-api.us-east-1.amazonaws.com/BryanL bryanl-notes-debug-stack-bucket83908e77-1f040qdl9vabs
[2022-06-02T11:27:02.304] [DEBUG] default - Checking port 12557 on host 0.0.0.0
[2022-06-02T11:27:02.315] [DEBUG] default - Checking port 13557 on host 0.0.0.0
[2022-06-02T11:27:02.323] [DEBUG] client - Starting runtime server on port: 12557
[2022-06-02T11:27:03.264] [DEBUG] websocket - WebSocket connection opened
[2022-06-02T11:27:04.355] [INFO] client - Debug session started. Listening for requests...
[2022-06-02T11:27:04.356] [DEBUG] client - Client connection id: TGrkAd90IAMCEHw=
[2022-06-02T12:17:06.290] [INFO] client - [90m028a78c4-55f5-423a-8e11-a669d13b9d9f REQUEST BryanL-notes-ApiStack-ApiLambdaPOSTbilling71E49732-wpf0UNCyCHwz [functions/billing.main] invoked by API POST /billing[39m
[2022-06-02T12:17:06.294] [DEBUG] client - Invoking local function...
[2022-06-02T12:17:06.295] [DEBUG] client - Triggering {
  id: 'BryanL-notes-ApiStack-Api-Lambda_POST_-billing',
  handler: 'functions/billing.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: 'C:\\Users\\bryan.lewis\\Documents\\Test Projects\\notes'
}
[2022-06-02T12:17:06.296] [DEBUG] client - First build...
[2022-06-02T12:17:06.537] [DEBUG] client - First build finished
[2022-06-02T12:17:06.538] [DEBUG] client - Spawning {
  command: 'C:\\Program Files\\nodejs\\node.exe',
  args: [
    'C:\\Users\\bryan.lewis\\Documents\\Test Projects\\notes\\node_modules\\@serverless-stack\\aws-lambda-ric\\bin\\index.js',
    'C:\\Users\\bryan.lewis\\Documents\\Test Projects\\notes\\.sst\\artifacts\\BryanL-notes-ApiStack-Api-Lambda_POST_-billing\\backend\\functions\\billing.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-06-02T12:17:06.642] [DEBUG] client - Worker waiting for function BryanL-notes-ApiStack-Api-Lambda_POST_-billing
[2022-06-02T12:17:06.643] [DEBUG] client - Sending next payload 028a78c4-55f5-423a-8e11-a669d13b9d9f BryanL-notes-ApiStack-Api-Lambda_POST_-billing {
  version: '2.0',
  routeKey: 'POST /billing',
  rawPath: '/billing',
  rawQueryString: '',
  headers: {
    accept: 'application/json',
    authorization: 'AWS4-HMAC-SHA256 Credential=ASIAXIMNFBBIMDD4OHVS/20220602/us-east-1/execute-api/aws4_request, SignedHeaders=accept;content-type;host;x-amz-date, Signature=9ffc9d2757a517c8c91354b7fa393dab8cbf2a2bd3bdd1257fd4f52b4a17a127',
    'content-length': '34',
    'content-type': 'application/json',
    host: 'r99h3e1i8f.execute-api.us-east-1.amazonaws.com',
    'user-agent': 'axios/0.18.1',
    'x-amz-date': '20220602T181704Z',
    'x-amz-security-token': 'IQoJb3JpZ2luX2VjEGsaCXVzLWVhc3QtMSJHMEUCIQDnaiPwV0CzWDEXTg7QfTkaS+h3JVA5/ocd3DD8s3crDwIgJvPcIVBaj37c5WdF1WT7FUSqTsXInRTFtsd+RYsF2yQqxAQIYxAAGgw0OTkwNDkxMDU0ODgiDItak4sX45xIR8Po6iqhBDS9IUMfYPrKmsAHvttNuB91JY763K2tbRrM05fRnV3Vgn37GrcwEHJb7zKgTZtG793l6astt/BOUZZ2Ro/6TDwM3v1Vd1C59iuqqslgmKbvm6vrySXNeV9pQWdkhBf1gPeBEnQeecD1DIREX83ys720h25u3PLdpHrHwidycbJjhL21IzASd+dn199eVnnu46OcX2HEI9db0nqUj6A2h9W3SH/UmV7nKn0V/Yt9QtnhnxXwOxPnFpbOqq5RMyoOXryhpilpcTFsZ3QrGgbeBmUPLBvyS+3CpB/fJfA6ZUki6iU5MB/Dd+OdQdPg0wqLZUWeFvs9ArdoW121KB9liNLJmGHUmkzSKert+G0L43uA3huU4j6s/WG4TEjtQmPFlIGjZFyoXNvfp3BwR4OQ2Riioz2wJVWhxR84AhH7+jCzE5q3w/sn8uQfKpXuzQdHnISPS/s1LyHRtKegPcMaKdjGYN/rDiivpGodrJIijx8AX4K7s5ZSKKrYxaEpiUwDIwVC9e8Jc9b6WttyYx2t3iuwPPMRd0IbNsaxInm5S8Hlar8xeR/ds3DIA/TSbnGPIPvCk4AqqFSJ+jKagYPE6hHmln7SYWh2iwmQ73HdUIjed6RcbY4oBWlv2d6h5+HZeScKkZqaO62zg+8Ggb8bBgsSa8cGF2rWcWxikZHQ54G7kFLp4LDu/QyOQg3e80ZPKb8PP9MjR3xatsJ9biB1rVZdMKD945QGOoUCZ1QWYkozzC8rwA7hGUMKAR4GqKYTLJL1wLCyI0VuCGQZqvRTXJdriNitI1ZxkvDWZr0aAZ3/6SlIZfDxkhlbzGdq6T93JtojvgPaqfAhxB0omJVfZpiD1BmKMiITcstaB+w0pSF6DV4eShSOEks0QyLrOAUA6QQgaE5086w6wj41vJp/8Xhg8agTCGV6dOAnOzayuIpLiTx9VN9Rkvmb1c7zXSIqPjV2f5BjDWHnB0VV4KwzeaGNCfXkbgDybfqaGbdYwdhJJ0/SIkHMQVo9Z/gEesPTp67RY5gciTDq+coE3Aa/QAVB+g2GhLmkA+i/Fy94l+S3M0nZIlebx+jhFA/fY1Uo',
    'x-amzn-trace-id': 'Root=1-6298fea0-4fdd75fe4dd6e8881e46feb0',
    'x-forwarded-for': '67.207.45.187',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '499049105488',
    apiId: 'r99h3e1i8f',
    authorizer: { iam: [Object] },
    domainName: 'r99h3e1i8f.execute-api.us-east-1.amazonaws.com',
    domainPrefix: 'r99h3e1i8f',
    http: {
      method: 'POST',
      path: '/billing',
      protocol: 'HTTP/1.1',
      sourceIp: '67.207.45.187',
      userAgent: 'axios/0.18.1'
    },
    requestId: 'TGy5FjQDoAMESQA=',
    routeKey: 'POST /billing',
    stage: '$default',
    time: '02/Jun/2022:18:17:04 +0000',
    timeEpoch: 1654193824387
  },
  body: '{"source":"tok_visa","storage":21}',
  isBase64Encoded: false
}
[2022-06-02T12:17:08.308] [DEBUG] client - Received response for 028a78c4-55f5-423a-8e11-a669d13b9d9f BryanL-notes-ApiStack-Api-Lambda_POST_-billing
[2022-06-02T12:17:08.309] [DEBUG] client - Response { type: 'success', data: { statusCode: 200, body: '{"status":true}' } }
[2022-06-02T12:17:08.310] [INFO] client - [90m028a78c4-55f5-423a-8e11-a669d13b9d9f RESPONSE {"statusCode":200,"body":"{\"status\":true}"}[39m
[2022-06-02T12:17:08.311] [DEBUG] client - Worker waiting for function BryanL-notes-ApiStack-Api-Lambda_POST_-billing
